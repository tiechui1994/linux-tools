#!/bin/sh

#----------------------------------------------------
# File: systemd.sh
# Contents: systemd架构
# Date: 18-11-9
#----------------------------------------------------

# systemd架构:
#
#+---------------------------------------------------------------------------------------------------------------------+
#| systemd Utilities                                                                                                   |
#| +===========+ +===========+ +===========+ +===========+ +===========+ +===========+ +===========+ +===========+     |
#| | systemctl | |journalctl | |  notify   | |  analyze  | |   cgls    | |   cgtop   | |  loginctl | |   nspawn  |     |
#| +===========+ +===========+ +===========+ +===========+ +===========+ +===========+ +===========+ +===========+     |
#+---------------------------------------------------------------------------------------------------------------------+
#| +-------------------------+ +-------------------------------------------------------------------------------------+ |
#| | systemd Daemons         | | systemd Targets                                                                     | |
#| | +=======+               | | +========+ +======+ +--------------------+ +----------------+ +-------------------+ | |
#| | |systemd|               | | |bootmode| |basic | |     multi-user     | |    graphical   | |  user-session     | | |
#| | +=======+               | | +========+ +======+ | +====+ +=========+ | | +============+ | | +===============+ | | |
#| | +========+ +========+   | | +========+ +======+ | |dbus| |telephony| | | |user-session| | | |display service| | | |
#| | |journald| |networkd|   | | |shutdown| |reboot| | +====+ +=========+ | | +============+ | | +===============+ | | |
#| | +========+ +========+   | | +========+ +======+ | +====+ +=========+ | +----------------+ | +===============+ | | |
#| | +======+ +============+ | |                     | |dlog| |  logind | |                    | | tizen service | | | |
#| | |logind| |user session| | |                     | +====+ +=========+ |                    | +===============+ | | |
#| | +======+ +============+ | |                     +--------------------+                    +-------------------+ | |
#| +-------------------------+ +-------------------------------------------------------------------------------------+ |
#+---------------------------------------------------------------------------------------------------------------------+
#| systemd Core                                                                                                        |
#| +=======+ +--------------------------------------+ +-----------------------+ +=========+ +=========+                |
#| |manager| |             unit                     | |         login         | |namespace| |   log   |                |
#| +=======+ | +========+ +=====+ +======+ +======+ | | +=========+ +=======+ | +=========+ +=========+                |
#| +=======+ | |service | |timer| |mount | |target| | | |multiseat| |inhibit| | +=========+ +=========+                |
#| |systemd| | +========+ +=====+ +======+ +======+ | | +=========+ +=======+ | |  cgroup | |   dbus  |                |
#| +=======+ | +========+ +=====+ +======+ +======+ | | +=========+ +=======+ | +=========+ +=========+                |
#|           | |snapshot| |path | |socket| | swap | | | | session | |  pam  | |                                        |
#|           | +========+ +=====+ +======+ +======+ | | +=========+ +=======+ |                                        |
#|           +--------------------------------------+ +-----------------------+                                        |
#+---------------------------------------------------------------------------------------------------------------------+
#| systemd Libraries                                                                                                   |
#| +=============+ +=============+ +=============+ +=============+ +=============+ +=============+ +=============+     |
#| |   dbus-1    | |    libpam   | |   libcap    | |libcryptsetup| | tcpwrapper  | |  libaudit   | |  libnotify  |     |
#| +=============+ +=============+ +=============+ +=============+ +=============+ +=============+ +=============+     |
#+---------------------------------------------------------------------------------------------------------------------+
#|                               +================+    +================+    +================+                        |
#| Linux Kernel                  |    cgroups     |    |     autofs     |    |     kdbus      |                        |
#|                               +================+    +================+    +================+                        |
#+---------------------------------------------------------------------------------------------------------------------+
#
# systemctl是systemd的主命令, 用于管理系统.
# sudo systemctl reboot
# sudo systemctl poweroff 关闭系统
# sudo systemctl halt    cpu停止工作
# sudo systemctl suspend  暂停系统
# sudo systemctl hybrid-sleep 交互式休眠
#
#
# systemd-analyze 查看启动耗时
# systemd-analyze blame 查看每个服务的启动耗时
# systemd-analyze critical-chain 查看启动过程流
#
#
# hostnamectl 查看当前主机的信息
# hostnamectl set-hostname xx 设置主机名称
#
#
# localectl 查看本地化设置
#
#
# timedatectl 查看当前时区设置
#
#
# loginctl 查看当前登录的用户
# loginctl list-seeions 列出当前的Session
# loginctl list-users 列出当前登录的用户
#
#=======================================================================================================================
#
# Unit 资源